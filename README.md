# 스마트콤보 (제품명 : ITMS850) 센서 데이터 해석 예제 #

에어릭스의 소규모 사업장 방지시설에 설치되는 맞춤형 IoT 통합센서 제품인 스마트콤보(제품명 : ITMS850) 디바이스는 환경공단 그린링크 서버로 데이터를 전송하는 기능이 기본적으로 제공되고  있지만, 일반적인 설비 모니터링 시스템 구축 용도로도 사용할 수 있도록 센서 데이터를 사용자가 지정한 MQTT 서버로 전송하는 기능도 제공하고 있습니다. 

이 Repository는 MQTT 서버에서 센서 데이터를 전송받는 경우에는 수신한 데이터를 해석해서 센서 값을 추출하는 예제 프로그램의 소스코드를 제공하기 위해서 생성하였습니다.   

## 개요 ##

* 작성자 : 이상훈 팀장(에어릭스 환경시스템사업부 기술연구소 / sanghoon.lee@aerix.co.kr)
* 프로그램 언어 : Python
* 작성일 : 2022-09-06

## MQTT 데이터 포맷 ##

스마트콤보 디바이스에서 MQTT 서버로 전송하는 데이터는 Json형식이며, 다음과 같이 구성되어 있습니다.

| Key | Data Type | Description | Example |
|-----|-----------|-------------|---------|
|"time"| String   | 데이터 송신시간 | "2022-08-23T12:10:27.000300Z" |
|"eui" | Integer | 콤보디바이스 ID | 1001 |
|"payload" | List | 센서 데이터 | [1,0,0,0,0,0,0,0,0,0,4,22,0,220,0,0,0,0,0,62,37,115,0,0,0,0] |
|"gateway_id" | Integer | 게이트웨이 ID(사업장 구분코드로 활용) | 1 |

**샘플 데이터**
```
{"time":"2022-08-23T12:10:27.000300Z","eui":1001,"payload":[1,0,0,0,0,0,0,0,0,0,4,22,0,220,0,0,0,0,0,62,37,115,0,0,0,0],"gateway_id":2}
```
